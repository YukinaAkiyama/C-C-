
# CSP2021-训练-01

难度系数-$1900$

**一．题目概况**

| 中文题目名称 |    反转子字符串    | 电话号码 | 到处都是警钟 |  美丽阵列  | 猜根 |
| :----------: | :-------: | :---------: | :-------: | :----------: | :----------: |
| 可执行文件名 | string.cpp | numbers.cpp | alarm.cpp | array.cpp | root.cpp |
|  输入文件名  | string.in | numbers.in | alarm.in | array.in | root.in |
|  输出文件名  | string.out | numbers.out | alarm.out | array.out | root.out |
|   时间限制   |  2000ms  |   1000ms   |   3000ms   |  2000ms   | 2000ms |
|   空间限制   | 256M   |   256M   |   256M   |   256M    | 256M |

**二．注意事项：**
1、文件名（程序名和输入输出文件名）必须使用英文小写。
2、C/C++中函数main()的返回值类型必须是int，程序正常结束时的返回值必须是 0。
3、结果比较方式 ： 全文比较（过滤行末空格及文末回车）  。
4、特别提醒：评测在当前最新公布的 $NOI$ $Linux$ 下进行。
5、本次测试需要使用文件读写。

<div STYLE="page-break-after: always;"></div> 
## 1 反转子字符串  （string）
时间限制：$ 2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

给定一个**仅含小写字母**的字符串$s$，其长度为$n$

我们定义子串为一个字符串中连续的一段，比如`acab`是`abacaba`的子串（位置是`3~6`），而`aa`和`d`不是。所以对于一个字符串$s$，它的位置为[l,r]的子串可以表示成$s[l;r]$，即$s_ls_{l+1}...s_r$

您需要指定$s$的**一个**子串并翻转这个子串，使得新字符串的字典序比原来的字符串$s$小。注意不是最小。

如果可以满足题意，输出`YES`，再输出反转的区间。否则输出`NO`

我们认为字符串$x<y$当且仅当存在一个$ i(1 \leq i\leq min(|x| ,|y|))$，使得$ x_i < y_i$并且$x_j =y_j (1 \leq j < i) $此处的绝对值符号`|x|` 指的是字符串长度。在某些语言中您可以用$ <$运算符比较字符串字典序

### 输入格式

第一行一个整数 $n(2\leq n \leq 3\times10^5)$ ，表示字符串$s$的长度

第二行一个**仅含小写字母**的字符串$s$

### 输出格式

如果可以通过翻转**一个**子串得到字典序更小的字符串，输出`YES`，换行，再输出反转的区间（如果有多种方案仅输出一个）。否则仅输出`NO`

### **输入 #1**
```
7
abacaba
```

### **输出 #1**
```
YES
2 5
```

### 输入 #2

```
6
aabcfg
```

### 输出 #2

```
NO
```

### 数据范围

### 

对于$30\%$的数据

对于$100\%$的数据 $1 \leq i\leq min(|x| ,|y|);$ $1 \leq j < i;$

### 说明/提示

样例11中，翻转后的字符串是`aacabba`

<div STYLE="page-break-after: always;"></div> 

## 2 **电话号码**（numbers）
时间限制：$ 1 \ sec$ ；空间限制：$256\  MB$

### 题目描述

一个数字序列$s$是电话号码，当且仅当$|s|=11$ (长度为$11$)，并且第一位是$8$。

`Vasya` 和 `Petya` 在玩一个游戏，最初他们有一个长度为 n的数字序列 s。两人轮流对当前序列进行操作，每次操作必须从当前序列选中一个数字将它删去。`Vasya` 先手，`Petya`后手。

比如当前数字序列为`1121` ，下一轮可能变成 `111` ,`121` ,`112`。

当 $|s|=11 $时游戏结束，如果**最后的** $s$是电话号码，那么 `Vasya` 赢，否则 `Petya` 赢。

而您需要判断 `Vasya` 有没有必胜策略。

### 输入格式

第一行 $n(13 \leq n \leq 10^5 ,$n是奇数$)$

第二行 一个数字序列 $s (|s|=n)$输出格式

### 输出格式

如果 `Vasya` 有必胜策略，输出`YES`，否则输出`NO`

### **输入 #1**

```
13
8380011223344
```

### **输出 #1**

```
YES
```

### **输入 #2**

```
15
807345619350641
```

### **输出 #2**

```
NO
```

### 数据范围

对于$30\%$的数据

对于$100 \%$的数据$13 \leq n \leq 10^5 ,$n是奇数; $|s|=n$

### 说明/提示

样例 1 中 `Vasya` 应该删掉第二个字符，字符串变为 $880011223344$。此后无论`Petya`如何操作，开头都会是$8$。

样例 2 中 `Petya` 可以在 `Vasya` 之后立即删去开头的$8$，这样序列中根本就不存在$8$了。

<div STYLE="page-break-after: always;"></div> 

## 3  **到处都是警钟**（alarm）
时间限制：$3 \ sec$ ；空间限制：$256\  MB$

### 题目描述

`Ivan` 要睡觉了！他决定先设置自己的闹钟，因为明天有许多必要的 $n$ 个活动要参加。第$ i$个活动将在 $x_i$分钟开始。`Ivan` 不想错过任何活动，所以 `Ivan` 的闹钟必须在 $x_1,x_2,x_3...x_n$分钟都响一次，这样他才不会赖床。（然而闹钟在没有活动的时候响起是允许的）

`Ivan` 需要为他的闹钟选择两个参数。$y$表示闹钟最初开始响铃的时间 ，$p$表示闹钟响铃的间隔。 闹钟参数设置好之后，他的闹钟会在 $y ,y+p,y+2p,y+3p...$分钟响起。

`Ivan` 可以随意设置 $y$，但他不能随意设置$ p$，因为生产厂家给定了只有 $m$ 种$ p$，即$ p_1 ,p_2,p_3...,p_m$

所以 `Ivan` 需要找到两个参数$ y ,p_j$，使得闹钟的响铃时间包含$ x_1,x_2,x_3...x_n$ 的所有时间点。而你需要输出 $y,j$。如果有多种答案，任意输出一种。

### 输入格式

第一行$ n,m (2 \leq n \leq 3 \times10^5 ,1\leq m \leq3 \times 10^5)$

第二行 $n$个数，第$ i$个数表示$ x_i(1\leq x_i \leq10^{18}) $，保证输入是递增的

第二行 $m$个数，第 $i$个数表示 $p_i(1\leq p_i \leq10^{18})$

### 输出格式

共一行 输出 $y,j$。如果有多种答案，任意输出一种。

### **输入 #1**

```
3 5
3 12 18
2 6 5 3 3
```

### **输出 #1**

```
YES
3 4
```

### **输入 #2**

```
4 2
1 5 17 19
4 5
```

### **输出 #2**

```
NO
```

### **输入 #3**

```
4 2
1 5 17 19
2 1
```

### **输出 #3**

```
YES
1 1
```

### 数据范围

对于$30\%$的数据

对于$100\%$ 的数据$2 \leq n \leq 3 \times10^5 ,1\leq m \leq3 \times 10^5;$ $1\leq x_i \leq10^{18};$ $1\leq p_i \leq10^{18};$



## 4 **美丽阵列**（array）

时间限制：$2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

NaCly Fish 给了你一个长度为$ n$的序列。

她想知道这个序列最大的美丽程度。

同时，她给了你一次操作的机会，你需要选择序列的一个子串，将其中所有数乘上 NaCly Fish 给定的一个常数 $x$。

我们定义一个序列的美丽程度为其所有子串的和的最大值，而子串则是序列的一个连续子序列，在本题中，子串可以是空的。

### 输入格式

第一行包括了两个整数$ n,x$，满足 $1\le n\le3\times10^5$，且$-100\le x\le100$。

之后一行包括了$ n$个整数$ a_i$，表示题中所给的序列，满足$ -10^9\le a_i\le10^9$。

### 输出格式

输出一行一个整数，表示这个序列进行操作后的美丽程度。

### **输入 #1**

```
5 -2
-3 8 -2 1 -6
```

### **输出 #1**

```
22
```

### **输入 #2**

```
12 -3
1 3 3 7 1 3 3 7 1 3 3 7
```

### **输出 #2**

```
42
```

### **输入 #3**

```
5 10
-1 -2 -3 -4 -5
```

### **输出 #3**

```
0
```

### 数据范围

对于$30\%$的数据

对于 $100\%$ 的数据,$1\le n\le3\times10^5;$ $-100\le x\le100;$ $ -10^9\le a_i\le10^9$

### 说明/提示

在第一个测试用例中，我们需要将子数组$ [-2, 1, -6]$ 相乘，数组变为$ [-3, 8, 4, -2, 12] $与完美 $22 ([-3, 8, 4, -2, 12])$。

在第二个测试用例中，我们根本不需要乘以任何子数组。

在第三个测试用例中，无论我们乘以哪个子数组，数组的美感都将等于 0。



## 5 **猜根**（root）

时间限制：$2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

本题为交互题，使用标准输入输出进行交互。

有一个次数不超过10的多项式，求该多项式的零点（模 $10^6+3 $意义下）。

你可以：

"? $x_q$"，询问该多项式在 $x_q$ 处的值，最多50次。

"! $x_0$"，当你求出多项式的零点为 $x_0$后输出，如果没有零点，输出 "! $-1$"。

### 输入格式

无

### 输出格式

要提出问题，请打印“？$x_q$"$ (0 \le x_q < 10^6 + 3)$。法官将回复一个整数 $f(x_q) \mod (10^6 + 3)$。如果您得到$ -1 $的结果（因为您打印了无效的查询），请立即退出以避免获得其他判断。

打印查询后不要忘记输出行尾并刷新输出。否则，您将超出空闲限制。为此，请使用：

c++ 中的 fflush(stdout) 或 cout.flush()；
Java 中的 System.out.flush()；
帕斯卡中的冲洗（输出）；
Python中的stdout.flush()；
请参阅其他语言的文档。

当你准备好回答时，打印“！$x_0$" 其中$ x_0$是答案，如果没有这样的 $x_0$，打印$-1$.

每个测试用例最多可以提出$ 50 $个问题。

黑客格式

要破解，请使用以下格式。

唯一的一行应该包含$ 11$个整数$ a_0, a_1, \dots, a_{10}$$( 0 \le a_i < 10^6 + 3, $$\max\limits_{0 \le i \le 10}{a_i} > 0) $— 多项式的对应系数。

### **输入 #1**

```
 
1000002

0
```

### **输出 #1**

```
? 0

? 1

! 1
```

### **输入 #2**

```
 
5

2

1

```

### **输出 #2**

```
? 2

? 1

? 0

! -1
```

### 数据范围

对于$30\%$的数据

对于 $100\%$ 的数据$ (0 \le x_q < 10^6 + 3);$  $ 0 \le a_i < 10^6 + 3, $$\max\limits_{0 \le i \le 10}{a_i} > 0$

### 提示/说明

第一个样本中的多项式是$ 1000002 + x^2.$

第二个样本中的多项式是$ 1 + x^2.$



