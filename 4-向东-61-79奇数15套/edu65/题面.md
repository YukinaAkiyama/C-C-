
# CSP2021-训练-01

难度系数-$1440$

**一．题目概况**

| 中文题目名称 |  电话号码  | 遗失编号 | 新闻发布 |  双色RBS  | 范围删除 |
| :----------: | :-------: | :---------: | :-------: | :----------: | :----------: |
| 可执行文件名 | number.cpp | lost.cpp | news.cpp | rbs.cpp | range.cpp |
|  输入文件名  | number.in | lost.in | news.in | rbs.in | range.in |
|  输出文件名  | number.out | lost.out | news.out | rbs.out | range.out |
|   时间限制   |  1000ms  |   1000ms   |   2000ms   |  2000ms   | 2000ms |
|   空间限制   | 256M   |   256M   |   256M   |   256M    | 256M |

**二．注意事项：**
1、文件名（程序名和输入输出文件名）必须使用英文小写。
2、C/C++中函数main()的返回值类型必须是int，程序正常结束时的返回值必须是 0。
3、结果比较方式 ： 全文比较（过滤行末空格及文末回车）  。
4、特别提醒：评测在当前最新公布的 $NOI$ $Linux$ 下进行。
5、本次测试需要使用文件读写。

<div STYLE="page-break-after: always;"></div> 
## 1 电话号码  （number）
时间限制：$ 1 \ sec$ ；空间限制：$256\  MB$

### 题目描述

一共有$ t $组测试数据，每组测试数据有一个$ n $位数，问能否去掉其中的一些数字使这个数变成首位数为$8$的$11$位数。

### 输入格式

第一行包含一个整数$ t ( 1 \le t \le 100 ) $— 测试用例的数量。

每个测试用例的第一行包含一个整数 $n ( 1 \le n \le 100 ) $— 字符串 ss 的长度。

每个测试用例的第二行包含由数字组成的字符串 $s ( |s| = n )$。

### 输出格式

对于每个测试打印一行。

如果有一系列操作，之后 $s $变成电话号码，则打印 YES。

否则，打印 NO。

### **输入 #1**
```
2
13
7818005553535
11
31415926535
```

### **输出 #1**
```
YES
NO
```

### 数据范围

### 

对于$30\%$的数据

对于$100\%$的数据$1 \le t \le 100;$ $1 \le n \le 100;$ $ |s| = n$

### 说明/提示

在第一个测试用例中，您需要删除第一个和第三个数字。 然后字符串 $7818005553535$ 变成 $88005553535$。

<div STYLE="page-break-after: always;"></div> 

## 2 **遗失编号**（lost）
时间限制：$ 1 \ sec$ ；空间限制：$256\  MB$

### 题目描述

有一个由  $4,8,15,16,23 ,42$  **六个数**组成的排列，你可以询问任意两个下标对应的数的乘积，试着找到并输出这个排列

最多询问$4$次

### 输入格式

无

### 输出格式

在提交答案之前，您最多可以提出$ 4$个问题。 要提出查询，请按以下格式打印一行： $? i j $，其中 $i$和 $j$ 应该是两个整数，使得$ 1 \le i, j \le 6$ 。 该行应以换行符结束。 提交查询后，刷新输出并阅读查询的答案——一行包含一个整数 $a_i \cdot a_j$. 如果你提交了一个错误的查询（或者超过 $4$个查询），它的答案将是一个字符串 $0$。收到这样的答案后，你的程序应该立即终止——否则你可能会收到“运行时错误”、“时间限制”的判断 超出”或其他一些判决而不是“错误答案”。

为了给出答案，你的程序应该打印一行$ ！ a_1a_2a_3a_4a_5a_6$最后换行。 之后，它应该刷新输出并正常终止。

### **输入 #1**

```
16
64
345
672
```

### **输出 #1**

```
? 1 1
? 2 2
? 3 5
? 4 6
! 4 8 15 16 23 42
```

### 数据范围

对于$30\%$的数据

对于$100 \%$的数据$ 1 \le i, j \le 6$

### 说明/提示

对于输入实例：如$16=4*4$，则对应下标为$1，1$

如果你想针对这个问题提交一个 hack，你的测试应该包含正好六个空格分隔的整数 $a_1, a_2, ..., a_6$. $6 $个特殊数字中的每一个都应该在测试中出现一次。 测试应以换行符结束。

<div STYLE="page-break-after: always;"></div> 

## 3  **新闻发布**（news）
时间限制：$2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

有$n$个人和$m$组关系，每组关系包含若干人。

如果一组关系中的某个人得知了一条消息，他会将消息传递给他所在的每组关系中的每个人。

对于每个人，求出其可以把一条消息传递给最多多少人(包括自己)。

### 输入格式

第一行包含两个整数 $n$和 $m ( 1 \le n, m \le 5 \cdot 10^5)$ — 分别是用户数和好友组数。

然后是 $m$ 行，每行都描述了一组朋友。 第$ i $行以整数 $k_i$开头
$ ( 0 \le k_i \le n)$ — 第 ii 组中的用户数。 然后$k_i$后面是不同的整数，表示属于第 $i$组的用户。

保证 $\sum \limits_{i = 1}^{m} k_i \le 5 \cdot 10^5$ .

### 输出格式

打印$ n$个整数。 第$ i$个整数应该等于用户$ i$开始分发新闻时知道该新闻的用户数。

### **输入 #1**

```
7 5
3 2 5 4
0
2 1 2
1 1
2 6 7
```

### **输出 #1**

```
4 4 1 4 4 2 2 
```

### 数据范围

对于$30\%$的数据

对于$100\%$ 的数据$1 \le n, m \le 5 \cdot 10^5;$ $0 \le k_i \le n;$ $\sum \limits_{i = 1}^{m} k_i \le 5 \cdot 10^5$ 



## 4 **双色**RBS（rbs）

时间限制：$2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

定义合法括号序列的深度为其嵌套的最大层数。

现在给出一个合法括号序列，对每个位置分配(红/蓝)一种颜色，使得将两种颜色的序列分别提取后，均为合法括号序列，且深度较大者深度最小。

### 输入格式

第一行包含一个偶数 $n( 2 \le n \le 2 \cdot 10^5) $— RBS $s $的长度。

第二行包含正则括号序列 $s( |s| = n, s_i \in \{ "(", ")" \} )$。

### 输出格式

打印由“0”-s 和“1”-s 组成的长度为 $n$的单个字符串 $t$。 如果$ t_i$等于 $0 $则字符$ s_i$属于 RBS $r $，否则 $s_i$属于$b$。

### **输入 #1**

```
2
()
```

### **输出 #1**

```
11
```

### **输入 #2**

```
4
(())
```

### **输出 #2**

```
0101
```

### **输入 #3**

```
10
((()())())
```

### **输出 #3**

```
0110001111
```

### 数据范围

对于$30\%$的数据

对于 $100\%$ 的数据 $2 \le n \le 2 \cdot 10^5;$ $|s| = n, s_i \in \{ "(", ")" \}$

### 说明/提示

在第一个示例中，最佳解决方案之一是 $s = " \color{blue}{()} "$。$ r$ 为空且 $b =" ()"$。 答案是 $\max(0, 1) = 1$ 。

在第二个例子中，最好使 $s =" \color{red}{(}\color{blue}{(}\color{red}{)}\color{blue}{)} "$ $. r = b  " ()"$ 并且答案是 $1$。

在第三个例子中，我们可以使$ s = " \color{red}{(}\color{blue}{((}\color{red}{)()}\color{blue}{)())}”。 r =" ()() "$ 和 $b =" (()()) " $，答案是 $2$。



## 5 **范围删除**（range）

时间限制：$2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

给定长度为n的数组$a$,其中任意$a_i \leq x$

定义$f(l,r)$为删除$a$中值域在 $[l,r]$ 的数后剩余的数组.

统计满足$1\leq l \leq r \leq x$  且$f(l,r)$是非严格不下降序列的数对$(l,r)$的数量。

### 输入格式

第一行包含两个整数$ n$和$ x ( 1 \le n, x \le 10^6 )$ — 分别为数组$ a$ 的长度及其元素的上限。

第二行包含$n$个整数$a_1, a_2, \dots a_n( 1 \le a_i \le x)$。

### 输出格式

打印对数 $1 \le l \le r \le x $，使得$ f(l, r)$按非降序排序。

### **输入 #1**

```
3 3
2 3 1
```

### **输出 #1**

```
4
```

### **输入 #2**

```
7 4
1 3 1 2 2 4 3
```

### **输出 #2**

```
6
```

### 数据范围

对于$30\%$的数据

对于 $100\%$ 的数据$a_i \leq x;$ $1\leq l \leq r \leq x;$ $1 \le n, x \le 10^6;$ $1 \le a_i \le x$

### 提示/说明

在第一个测试用例中，正确的对是 $(1, 1), (1, 2), (1, 3) $和 $(2, 3)$。

在第二个测试用例中，正确的对是 $(1, 3), (1, 4) , (2, 3) , (2, 4) , (3, 3)$ 和$ (3, 4) $。

