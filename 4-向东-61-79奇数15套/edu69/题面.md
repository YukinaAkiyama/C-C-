
# CSP2021-训练-01

难度系数-$1300$

**一．题目概况**

| 中文题目名称 |    DIY木梯    | 支柱 | 阵列分裂 |  子数组问题  |
| :----------: | :-------: | :---------: | :-------: | :----------: |
| 可执行文件名 | ladder.cpp | pillars.cpp | split.cpp | subarray.cpp |
|  输入文件名  | ladder.in | pillars.in | split.in | subarray.in |
|  输出文件名  | ladder.out | pillars.out | split.out | subarray.out |
|   时间限制   |  2000ms  |   1500ms   |   2000ms   |  2000ms   |
|   空间限制   | 256M   |   256M   |   256M   |   256M    |

**二．注意事项：**
1、文件名（程序名和输入输出文件名）必须使用英文小写。
2、C/C++中函数main()的返回值类型必须是int，程序正常结束时的返回值必须是 0。
3、结果比较方式 ： 全文比较（过滤行末空格及文末回车）  。
4、特别提醒：评测在当前最新公布的 $NOI$ $Linux$ 下进行。
5、本次测试需要使用文件读写。

<div STYLE="page-break-after: always;"></div> 
## 1 DIY木梯  （ladder）
时间限制：$ 2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

有n个数，依次为$a_1,a_2,a_3...a_n$。
然后你可以从中选出$k+2$个数（$k$为任意正整数）。
对于这$k+2$个数字，要满足第二大的数字至少比$k$大$1$。
问最大的符合条件的$k$为多少。

### 输入格式

本题由T组数据构成$（1 \le T \le 100）$
每一组数据，第一行会给出$n（2 \le n \le 10^5）$
第二行有$n$个数字，第$i$个数字表示$a_i（1 \le a_i \le 10^5）$

### 输出格式

对于每一组数据，输出最大的符合条件的$k$。

**特别的，如果没有符合条件的$k$，则输出$0$.**

### **输入 #1**
```
4
4
1 3 1 3
3
3 3 2
5
2 3 3 4 2
3
1 1 2
```

### **输出 #1**
```
2
1
2
0
```

### 数据范围

### 

对于$30\%$的数据

对于$100\%$的数据$1 \le T \le 100;$ $2 \le n \le 10^5;$ $1 \le a_i \le 10^5$

<div STYLE="page-break-after: always;"></div> 

## 2 **支柱**（pillars）
时间限制：$ 1.5 \ sec$ ；空间限制：$256\  MB$

### 题目描述

给定$n$个盘子，盘子的半径是 $1$ 到 $n$

现在的有$n$个柱子，每个柱子上有一个盘子，问时候能够把所有的盘子移动到一个柱子上

如果要把一个盘子从柱子 $i$ 移动到柱子 $j$ 则要求

1. 柱子 $i$ 上只有一个盘子
2. 柱子 $j$ 上没有盘子，或盘子的半径大于柱子 $i$ 上的盘子
3. $i$，$j$ 必须相邻

### 输入格式

第一行一个整数$n$

第二行$n$个整数，第$i$个数字$a_i$代表第$i$个柱子上盘子的半径

### 输出格式

如果可以将所有的盘子移动到一个柱子上输出`YES`

反之输出`NO`

### **输入 #1**

```
4
1 3 4 2
```

### **输出 #1**

```
YES
```

### **输入 #2**

```
3
3 1 2
```

### **输出 #2**

```
NO
```

### 数据范围

对于$30\%$的数据

对于$100 \%$的数据$3≤n≤2e5;$ $1\le a_i\le n$

### 说明/提示

在第一种情况下，可以使用以下操作序列将所有磁盘放置在支柱 $3$ 上：

1.从柱子 $2$ 上取出半径为$3$ 的圆盘并将其放在柱子 $3 $ 的顶部；
2.从柱子 $1$ 取出半径为$ 1 $ 的圆盘并将其放在柱子 $2$ 的顶部；
3.从支柱 $4$ 上取下半径为$2$ 的圆盘并将其放在支柱 $3$ 的顶部；
4.从支柱 $2$ 取出半径为 $1$ 的圆盘并将其放在支柱 $3$ 的顶部。

<div STYLE="page-break-after: always;"></div> 

## 3  **阵列分裂**（split）
时间限制：$2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

给出一个长度为$n$的严格单调增的序列，将其分成k段，使得每一段的极差的和最小，求这个最小的和。（每段长度至少为$1$，当长度为$1$时，其极差为$0$）

### 输入格式

第一行包含两个整数 $n$ 和 $ k ( 1 \le k \le n \le 3 \cdot 10^5）$。

第二行包含 $n$ 个整数$a_1、a_2、\dots、a_n( 1 \le a_i \le 10^9, a_i \ge a_{i-1} ）$。

### 输出格式

打印通过将数组 $a$ 划分为 $ k$ 个非空连续子数组可以获得的最小成本。

### **输入 #1**

```
6 3
4 8 15 16 23 42
```

### **输出 #1**

```
12
```

### **输入 #2**

```
4 4
1 3 3 7
```

### **输出 #2**

```
0
```

### **输入 #3**

```
8 1
1 1 2 3 5 8 13 21
```

### **输出 #3**

```
20
```

### 数据范围

对于$30\%$的数据

对于$100\%$ 的数据$1 \le k \le n \le 3 \cdot 10^5;$ $1 \le a_i \le 10^9, a_i \ge a_{i-1}$

### 说明/提示

在第一个测试中，我们可以按以下方式划分数组$ a： [4, 8, 15, 16], [23], [42]$。



## 4 **子数组问题**（subarray）

时间限制：$2 \ sec$ ；空间限制：$256\  MB$

### 题目描述

给 $a_1, a_2, \cdots, a_n$和 $m,k$一个子区间 $ [l,r]$的权值是 $\sum\limits_{i=l}^r a_i-k\lceil \frac{r-l+1}{m}\rceil$，一个空区间的权值为 $0$，请找到一个权值最大的区间，并输出其权值，并表示对 *Aiming_High* 和 *wenhao801* 的膜拜。

$1\le n\le 3\times 10^5, 1\le m\le 10, 1\le k\le 10^9$

$-10^9\le a_i\le 10^9$

### 输入格式

第一行包含三个整数 $n 、 m$ 和$ k ( 1 \le n \le 3 \cdot 10^5, 1 \le m \le 10, 1 \le k \le 10^9）$。

第二行包含 $n$ 个整数$a_1、a_2、\dots、a_n( -10^9 \le a_i \le 10^9）$。

### 输出格式

打印数组 $a$ 的某个子数组的最大成本。

### **输入 #1**

```
7 3 10
2 -4 15 -3 4 8 3
```

### **输出 #1**

```
7
```

### **输入 #2**

```
5 2 1000
-13 -4 -9 -20 -11
```

### **输出 #2**

```
0
```

### 数据范围

对于$30\%$的数据

对于 $100\%$ 的数据,$1\le n\le 3\times 10^5, 1\le m\le 10, 1\le k\le 10^9;$ $-10^9\le a_i\le 10^9$





